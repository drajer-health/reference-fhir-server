<mat-sidenav-container>
  <!-- <app-adminpanel [headerName]="['Registred Client']"></app-adminpanel> -->
  <app-header [disHeaderName]="['Registered Client']"></app-header>

  <div class="analytics" style="height: 100%">
    <mat-tab-group
      animationDuration="0ms"
      style="width: 100%; background-color: #f8fcff"
    >
      <mat-tab label="User OAuth Clients">
        <div
          style="
            height: 100%;
            padding: 10px;
            background: #f8fcff;
            padding-bottom: 6%;
          "
        >
          <mat-card>
            <!-- <table class="table">
              <tr>
                <th style="width: 50px;">Id</th>
                <th style="width: 100px;">Client name</th>
                <th style="width: 160px;">Application Type</th>
                <th style="width: 170px;text-align: left;padding-left: 110px;">Client id</th>
                <th style="width: 160px;text-align: left;padding-left: 250px;">Client Secret</th>
                <th style="width: 160px;text-align: left;padding-left: 31px;">Actions</th>
              </tr>

              <tr *ngFor="let data of oAuthClients">
                <td style="padding-top: 20px;">{{data.id}}</td>
                <td style="padding-top: 20px;">{{data.name}}</td>
                <td style="padding-top: 20px;">{{data.name}}</td>
                <td class="left-alignment" style="padding-top: 20px;">{{data.client_id}}</td>
                <td class="left-alignment" style="padding-top: 20px;">{{data.client_secret}}</td>
                <td style="padding-top: 20px"> <a target="_blank"
                    href="{{data.launchUri}}?launch={{data.launchId}}&iss={{fhir_server_url}}"><button mat-raised-button
                      color="primary">Launch App</button></a></td>
              </tr>
            </table> -->
            <div class="example-container">
              <table
                class="tablecss"
                mat-table
                [dataSource]="oAuthClientdataSource"
                style="width: 100%"
              >
                <ng-container matColumnDef="id">
                  <th mat-header-cell *matHeaderCellDef>ID</th>
                  <td mat-cell *matCellDef="let element" class="reference">
                    {{ element?.id }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="clientname">
                  <th mat-header-cell *matHeaderCellDef>CLIENT NAME</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element?.name }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="applicationtype">
                  <th mat-header-cell *matHeaderCellDef>APPLICATION TYPE</th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element?.appType == 'user'"
                      >Provider Facing App</span
                    >
                    <span *ngIf="element?.appType == 'patient'"
                      >Patient Facing App</span
                    >
                  </td>
                </ng-container>

                <ng-container matColumnDef="clientid">
                  <th mat-header-cell *matHeaderCellDef>CLIENT ID</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element?.client_id }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="clientsecret">
                  <th mat-header-cell *matHeaderCellDef>CLIENT SCERET</th>
                  <td mat-cell *matCellDef="let element" class="reference">
                    {{ element?.client_secret }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef>ACTIONS</th>
                  <td mat-cell *matCellDef="let element" class="reference">
                    <!-- <a
                      target="_blank"
                      href="{{ element.launchUri }}?launch={{
                        element.launchId
                      }}&iss={{ fhir_server_url }}"
                      ></a> -->
                    <button
                      mat-raised-button
                      color="primary"
                      (click)="openDialog()"
                    >
                      Launch App
                    </button>
                  </td>
                </ng-container>

                <tr
                  mat-header-row
                  *matHeaderRowDef="oAuthClientDisplayColumns"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: oAuthClientDisplayColumns"
                ></tr>
              </table>
            </div>
          </mat-card>
        </div>
      </mat-tab>

      <mat-tab label="Backend Clients">
        <!-- <table class="table">
          <tr>
            <th style="width: 100px;">Client name</th>
            <th style="width: 170px;text-align: left;padding-left: 130px;">Client id</th>
            <th style="width: 160px;text-align: left;padding-left: 130px;">Token End Point</th>
          </tr>

          <tr *ngFor="let data of backendClients">
            <td style="padding-top: 20px;">{{data.name}}</td>
            <td class="left-alignmentclient" style="padding-top: 20px;">{{data.client_id}}</td>
            <td class="left-alignmentclient" style="padding-top: 20px;">{{data.redirect_uri}}</td>
          </tr>
        </table> -->
        <div style="height: 100%; padding: 10px; background: #ededed">
          <mat-card>
            <div class="example-container">
              <table
                class="tablecss"
                mat-table
                [dataSource]="backenddataSource"
                style="width: 100%"
              >
                <ng-container matColumnDef="clientname">
                  <th mat-header-cell *matHeaderCellDef>CLIENT NAME</th>
                  <td mat-cell *matCellDef="let element" class="reference">
                    {{ element?.name }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="clientid">
                  <th mat-header-cell *matHeaderCellDef>CLIENT ID</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element?.client_id }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="tokenendpoint">
                  <th mat-header-cell *matHeaderCellDef>TOKEN END POINT</th>
                  <td mat-cell *matCellDef="let element">
                    {{ element?.tokenEndPoint }}
                  </td>
                </ng-container>

                <tr
                  mat-header-row
                  *matHeaderRowDef="backendDisplayColumns"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: backendDisplayColumns"
                ></tr>
              </table>
            </div>
          </mat-card>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>

  <app-footer></app-footer>
</mat-sidenav-container>
